{% if not title %}
    {% set generatedTitle = metadata.title %}
{% else %}
    {% set generatedTitle = title %}

    {% if not isIndex %}
        {% set generatedTitle = title + ' - ' + metadata.title %}
    {% else %}
        {% set generatedTitle = metadata.title %}
    {% endif %}
{% endif %}

<!doctype html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ generatedTitle }}</title>
        <meta name="description" content="{{ description or metadata.description }}">

        <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">

        {% include 'favicon.njk' %}

        <link rel="stylesheet" href="{{ '/styles/index.css' | url }}" media="all">
    </head>
    <body>
        <a class="skip-link" href="#main">
            Основной контент
        </a>
        <header class="header">
            <div class="header__home">
                <a class="header__home-link" href="{{ '/' | url }}">
                    <img class="header__logo" src="/images/logo.svg" width="200" height="42" alt="">
                    <span class="visually-hidden">{{ metadata.title }}</span>
                </a>
            </div>

            <div class="header__search">
                <form class="search-field" action="/search/" method="get">
                    <label class="search-field__label" for="search">Поиск по сайту</label>
                    <input class="search-field__input" type="search" id="search" name="search"/>
                    <button class="search-field__action">
                        <svg width="20" height="20" role="img" aria-label="Искать" focusable="false"><path d="M8.02.5C3.6.5 0 3.95 0 8.2c0 4.24 3.6 7.69 8.02 7.69a8.2 8.2 0 004.69-1.47l5.24 5.03a.9.9 0 001.23 0l.56-.54a.81.81 0 000-1.18l-5.23-5.03a7.44 7.44 0 001.52-4.5c0-4.25-3.6-7.7-8.01-7.7zM2.54 8.2c0-2.9 2.46-5.26 5.48-5.26a5.38 5.38 0 015.47 5.25c0 2.9-2.45 5.26-5.47 5.26A5.38 5.38 0 012.54 8.2z" /></svg>
                    </button>
                </form>
            </div>

            <div class="header__language">
                <nav class="language-switcher" aria-label="Выбрать язык">
                    <div class="language-switcher__item is-active" title="Русский">
                        <span aria-hidden="true">Рус</span>
                        <span class="visually-hidden">Русский</span>
                    </div>
                    <a class="language-switcher__item" href="/en" hreflang="/en" aria-label="English" title="English">Eng</a>
                </nav>
            </div>

            <button class="header__auth" onClick="openAuthDialog()" aria-haspopup="dialog" id="auth-button">
                <svg width="46" height="46" role="img" aria-label="Личный кабинет" focusable="false"><path d="M22.7 22.2c3 0 5.7-1.1 7.8-3.3a10.7 10.7 0 003.3-7.8c0-3-1.1-5.7-3.3-7.8A10.7 10.7 0 0022.7 0c-3 0-5.7 1.1-7.9 3.3a10.7 10.7 0 00-3.2 7.8c0 3 1 5.7 3.2 7.8a10.7 10.7 0 007.9 3.3zm-6-17a8 8 0 016-2.5 8 8 0 015.9 2.5 8 8 0 012.5 5.9 8 8 0 01-2.5 6 8 8 0 01-6 2.4 8 8 0 01-5.8-2.5 8 8 0 01-2.5-6 8 8 0 012.4-5.9zm25.4 30.2a27.4 27.4 0 00-1.1-5.9l-1.2-2.7c-.6-.9-1.2-1.7-1.8-2.3a8 8 0 00-2.6-1.7 9 9 0 00-3.4-.6c-.4 0-.9.2-1.8.8l-1.8 1.2c-.6.4-1.5.7-2.5 1a9.6 9.6 0 01-6 0c-1-.3-1.7-.6-2.3-1l-2-1.2c-.8-.6-1.2-.8-1.7-.8a9 9 0 00-3.3.6c-1 .4-2 1-2.6 1.7-.7.6-1.3 1.4-1.9 2.3-.5 1-.9 1.8-1.2 2.8a27.2 27.2 0 00-1 5.8L3.8 38c0 2.4.7 4.3 2.2 5.8A8.2 8.2 0 0012 46H34c2.4 0 4.4-.7 5.9-2.1a7.7 7.7 0 002.3-5.8l-.1-2.7zm-4 6.5a5.5 5.5 0 01-4 1.4H11.8c-1.7 0-3-.5-4-1.4-1-.9-1.4-2.2-1.4-3.8a24.5 24.5 0 011-7.7l1-2.3 1.3-1.7a5.3 5.3 0 011.8-1 6.2 6.2 0 012-.5l.6.3 2 1.3c.7.5 1.7 1 3 1.3a12.3 12.3 0 007.6 0 14 14 0 003-1.3 241.6 241.6 0 002.4-1.6 6.2 6.2 0 012.2.4 5.3 5.3 0 011.7 1.1 12.3 12.3 0 012.3 4 24.7 24.7 0 011 5.2V38c0 1.7-.4 2.9-1.4 3.8z"/></svg>
            </button>

            <div class="header__navigation">
                <nav class="navigation">
                    <ul class="navigation__list">
                        {%- for entry in collections.all | eleventyNavigation %}
                            {% if entry.url !== "/" %}
                                <li class="navigation__item p-1 {% if entry.url == page.url %} is-active {% endif %}">
                                    <a href="{{ entry.url | url }}" {% if entry.url == page.url %} aria-current="page" {% endif %}>{{ entry.title }}</a>
                                </li>
                            {% endif %}
                        {%- endfor %}
                    </ul>
                </nav>
            </div>
        </header>

        <main class="page__content" id="main">
            {{ content | safe }}
        </main>

        <footer class="footer">
            <div class="footer__inner">
                <ul class="footer__menu">
                    <li><a href="/accessible/">Посетителям с инвалидностью</a></li>
                    <li><a href="/tickets/">Билеты и льготы</a></li>
                    <li><a href="/corruption/">Противодействие коррупции</a></li>
                </ul>

                <div>
                    Социальные сети
                    <ul class="footer__menu">
                        <li>Наша почта</li>
                        <li>Telegram</li>
                        <li>Facebook</li>
                    </ul>
                </div>

                <div>
                    Подписка на новости

                    <form>
                        <input type="email" />
                        <input type="checkbox"/> Согласен на обработку персональх данных
                        <button type="submit">Подписаться</button>

                    </form>
                </div>
            </div>
        </footer>

        <div class="modal" tabindex="-1" role="dialog" aria-modal="true" aria-labelledby="modal-title" id="modal">
            <div class="modal__content">
                <div class="dialog">
                    <button onClick="closeAuthDialog()">Close</button>
                    <h2 id="modal-title">Авторизация</h2>
                    <form>
                        <label for="login">Логин</label>
                        <input type="text" id="login" />
                        <label for="password">Пароль</label>
                        <input type="password" id="password" />
                        <button type="submit">Вход</button>
                    </form>
                </div>
            </div>
        </div>

        <script async src="{{ '/scripts/index.js' | url }}"></script>
    </body>
</html>
